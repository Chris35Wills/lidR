% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/setGeneric.r, R/ClassLidar.r
\docType{methods}
\name{thin}
\alias{thin}
\alias{thin,Lidar,numeric-method}
\title{Thin LiDAR data}
\usage{
thin(obj, pulseDensity, homogenize = TRUE, resolution = 5)

\S4method{thin}{Lidar,numeric}(obj, pulseDensity, homogenize = TRUE,
  resolution = 5)
}
\arguments{
\item{obj}{An object of the class \code{Lidar}}

\item{pulseDensity}{numeric. The expected pulseDensity}

\item{homogenize}{logical. If \code{TRUE}, the algorithm tries to homogenize the pulse density to provide a uniform dataset. If \code{FALSE} the algorithm will reach the pulse density on the whole area.}

\item{resolution}{numeric. Cell size to compute the pulse density.}
}
\value{
It returns a \code{data.table} with the class \code{gridMetrics} which enables easier plotting.
}
\description{
Thin LIDAR data randomly removes a given proportion of pulses to reach specific pulse densities
}
\details{
Thin is designed to produce output data sets that have uniform pulse densities
throughout the coverage area. For each cell, the proportion of pulses that will
be retained is computed using the calculated pulse density and the desired pulse
density. If required pulse density is greater than the local pulse density it returns
an unchanged set of points (it cannot increase the pulse density). In the way
of \code{homogenize = FALSE} it randomly removes pulses to reach the required pulse
density on the whole area (see \code{\link[lidR:area]{area}}). The cell size must be large enough
to compute a coherant local pulse density. 25 square meters looks good. 1 square
meter is meaningless.
}
\examples{
LASfile <- system.file("extdata", "Megaplot.las", package="lidR")
lidar = LoadLidar(LASfile)

# By default the method is homogenize = TRUE
thinned = lidar \%>\% thin(1, resolution = 5)
lidar   \%>\% pulseDensity \%>\% plot
thinned \%>\% pulseDensity \%>\% plot

# Method homogenize = FALSE enables a global pulse density to be reached
thinned = lidar \%>\% thin(1, homogenize = FALSE)
thinned \%>\% summary
thinned \%>\% pulseDensity \%>\% plot
}

